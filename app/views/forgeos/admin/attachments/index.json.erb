<%= dataTables_resultset(@media_class, @medias) do |media|
  media_array = []
  if params[:skin] == 'thumbnail'
    media_array << render(:partial => 'table_thumbnail.html.haml', :locals => { :media => media })
  else
    media_array << content_tag((params[:mode] == 'selection' ? :span : :div), content_tag(:div, '', :class=>"handler") + content_tag(:div, '', :class=>"small-icons #{@file_type}"), :id => polymorphic_html_id(media), :class => "handler_container") <<
    content_tag(:div, params[:mode] == 'selection' ? media.filename : link_to(media.name, [forgeos_core, :edit, :admin, media], :class => "truncate", :title => media.filename), :class => 'media-name') <<
    media.file_type.upcase <<
    media.updated_at.to_s(:short) <<
    "#{media.size/1024} #{t 'media.byte.kilo'}" <<
    "N/A" <<
    link_to('', [forgeos_core, :edit, :admin, media], :class => 'small-icons edit-link') +
    link_to('', [forgeos_core, :admin, media],
      :remote => true,
      :method => :delete,
      :confirm => t('media.destroy.confirm'),
      :class => 'small-icons destroy-link',
      :id => polymorphic_html_id(media, 'destroy')
    )
  end
  media_array << media.public_filename << media.id << media.filename
end -%>
