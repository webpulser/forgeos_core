{
'iTotalDisplayRecords': <%= @admins.total_entries || 0 %>,
'aaData': [
<% @admins.each do |admin| %>
  <% link_id = "admin_#{admin.id}" %>
  <% 
     admin_clone = admin.clone.attributes
     admin_clone[:role_ids] = admin.role_ids
  %>
  [
  '<%= content_tag(:div, '&nbsp;',:class => 'small-icons admin')%>',
  '<%= escape_javascript content_tag(:div, link_to("#{admin.firstname} #{admin.lastname}", [:admin, admin]), :class => 'admin-name') %>',
  '<%= admin.roles.collect {|role| role.name}.join(', ') %>',
  '<%= escape_javascript content_tag(:div, mail_to(admin.email, admin.email), :class => 'email' )%>',
  '<%= admin.created_at.to_s(:slashed_fr) %>',

  '<%= escape_javascript link_to('', new_admin_admin_path(:admin => admin_clone), :class => 'small-icons duplicate-link') -%>
    <%= escape_javascript link_to('', [:edit, :admin, admin], :class => 'small-icons edit-link') -%>
    <%= escape_javascript link_to_remote('', :url => [:admin, admin],
      :method => :delete,
      :confirm => I18n.t('admin.destroy.confirm').capitalize,
      :success => "removedataTablesRow('#destroy_#{link_id}')", 
      :html => {
      :class => 'small-icons destroy-link', :id => "destroy_#{link_id}"
    })
    -%>'
  ] <%= ',' unless @admins.last == admin %>

<% end %>
]
}
