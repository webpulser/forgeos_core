{
'iTotalDisplayRecords': <%= @medias.total_entries || 0 %>,
'aaData': [
<% @medias.each do |media| %>
  <%
    link_id = "page_#{media.id}"
  %>
  [
<% if params[:skin] == 'thumbnail' %>
  '<%= escape_javascript(render :partial => 'table_thumbnail', :locals => { :media => media })%>',
<% else %>
  '<%= content_tag(:div, '&nbsp;', :id => link_id, :class => "small-icons #{@file_type}")%>',
  '<%= escape_javascript content_tag(:div, params[:mode] == 'selection' ? link_to_function(media.filename,'') : link_to(media.filename, [:admin, media]), :class => 'media-name') %>',
  '<%= media.file_type.upcase  %> ',
  '<%= media.updated_at.to_s(:short) %>',
  '<%= "#{media.size/1024} #{I18n.t('media.byte.kilo')}" %>',
  '<%= "N/A"  %>',
  '<%= escape_javascript link_to('', [:edit, :admin, media], :class => 'small-icons edit-link') -%>
    <%= escape_javascript link_to_remote('', :url => [:admin, media],
      :method => :delete,
      :confirm => I18n.t('media.destroy.confirm').capitalize,
      :success => "removedataTablesRow('#destroy_#{link_id}')",
      :html => {
      :class => 'small-icons destroy-link', :id => "destroy_#{link_id}"
    })
    -%>',
<% end %>
   '<%= escape_javascript(media.public_filename) %>',
   '<%= media.id %>',
   '<%= media.filename %>'
    ] <%= ',' unless @medias.last == media %>
<% end %>
]
}
